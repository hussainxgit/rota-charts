<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Doctor Schedule Timeline</title>
    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Custom styles after Bootstrap -->
    <link rel="stylesheet" href="/css/styles.css">
</head>

<body>
    <div class="container py-4">
        <h1 class="text-center mb-4">Doctor Schedule Timeline</h1>

        <div class="row mb-4 justify-content-center">
            <div class="col-md-10">
                <div class="d-flex flex-wrap gap-3 justify-content-center align-items-center">
                    <select id="date-picker" class="form-select" style="max-width: 250px;">
                        <!-- Dates will be populated by JS -->
                    </select>

                    <select id="filter-dropdown" class="form-select" style="max-width: 200px;">
                        <option value="all">All Shifts</option>
                        <option value="firstOnCall">First On Call</option>
                        <option value="secondOnCall">Second On Call</option>
                        <option value="thirdOnCall">Third On Call</option>
                    </select>

                    <button id="refresh-btn" class="btn btn-primary">Refresh</button>
                </div>
            </div>
        </div>

        <div class="row mb-4">
            <div class="col-12">
                <div class="card bg-light">
                    <div class="card-body">
                        <div class="d-flex flex-wrap justify-content-around">
                            <div class="stat-item px-3">
                                <strong>Total Shifts:</strong> <span id="total-shifts">0</span>
                            </div>
                            <div class="stat-item px-3">
                                <strong>Doctors on Duty:</strong> <span id="total-doctors">0</span>
                            </div>
                            <div class="stat-item px-3">
                                <strong>Selected Date:</strong> <span id="selected-date">None</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="timeline-container mb-4">
            <div class="d-flex justify-content-center">
                <div class="spinner-border text-primary" id="loading-spinner" role="status">
                    <span class="visually-hidden">Loading...</span>
                </div>
            </div>
            <div class="timeline" id="timeline">
                <div class="y-axis" id="y-axis">
                    <!-- Y-axis labels will be populated by JS -->
                </div>

                <div class="chart-area" id="chart-area">
                    <div class="x-axis" id="x-axis">
                        <!-- X-axis labels will be populated by JS -->
                    </div>
                    <div id="rows-container">
                        <!-- Rows will be populated by JS -->
                    </div>
                    <div class="time-indicator" id="time-indicator">
                        <div class="time-label" id="time-label"></div>
                        <div class="doctor-count" id="doctor-count"></div>
                    </div>
                </div>
            </div>
        </div>

        <div class="row mt-5">
            <div class="col-md-12 mb-4">
                <div class="card">
                    <div class="card-body" id="doctor-stats">
                        <!-- Doctor stats will be populated by JS -->
                    </div>
                </div>
            </div>

            <div class="col-md-12 mb-4">
                <div class="card">
                    <div class="card-body" id="weekend-stats">
                        <!-- Weekend stats will be populated by JS -->
                    </div>
                </div>
            </div>

            <div class="col-md-12 mb-4">
                <div class="card">
                    <div class="card-body" id="consecutive-days-stats">
                        <!-- Consecutive days stats will be populated by JS -->
                    </div>
                </div>
            </div>
        </div>

        <div class="tooltip" id="tooltip"></div>
    </div>

    <!-- Bootstrap 5 JS Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Custom scripts -->
    <script src="/js/script.js"></script>
</body>

</html>